<ng-template #makeOneTimePaymentModal let-c="close" let-d="dismiss" *ngIf="!paynearmeRuleActive">
  <div class="modal-header">
    <h4>Make a one-time payment</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="card-content container">
      <div class="card-body p-t-10 p-b-0">
        <p>Dear {{user.first_name}},</p>
        <p>This section is only for ACH payments to be withdrawn from your bank account and doesn't apply to
          payroll deductions or allotments. <br> <br>
          <b>ACH Payments do not qualify as allotment payments and will not be considered in your payment
            streak</b>
        </p>
      </div>
    </div>
    <div class="card-content container">
      <div class="card-body p-t-10 p-b-0">
        <p>
          <b>The offer we have for you if you want to make a one-time payment with ACH is ${{loanAmount}}</b>
        </p>
        <div class="row">
          <div class="col-12">
            <hr class="m-b-5 m-t-10" />
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <button type="button" class="btn btn-success block m-t-10" (click)="save()">
              Confirm
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn grey btn-outline-secondary" (click)="c('Close click')">
      Close
    </button>
  </div>
</ng-template>

<ng-template #makeOneTimePaymentModal let-c="close" let-d="dismiss" *ngIf="paynearmeRuleActive">
  <div class="modal-header">
    <h4>Make a one-time payment</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="card-content container">
      <div class="card-body p-t-10 p-b-0">
        <p>Dear {{user.first_name}},</p>
        <p>This section is only for ACH or Debit Card payments to be withdrawn from your bank account and
          doesn't apply to payroll deductions or allotments. <br> <br>
          <b>ACH Payments do not qualify as allotment payments and will not be considered in your payment
            streak</b>
        </p>
      </div>
    </div>
    <div class="card-content container">
      <div class="card-body p-t-10 p-b-0">
        <p>
          <b>The offer we have for you if you want to make a one-time payment is ${{loanAmount}}</b>
        </p>
        <div class="row">
          <div class="col-12">
            <hr class="m-b-5 m-t-10" />
          </div>
        </div>
        <div class="row">
          <div class="col-12 col-centered">
            <p class="text-center">Choose one option to make the payment:</p>
          </div>
        </div>
        <div class="btn-group">
          <button class="btn btn-warning btn-block" (click)="onChangePaymentType('ach')">
            ACH
          </button>
          <button class="btn btn-warning btn-block" (click)="onChangePaymentType('debit_card')">
            Debit Card
          </button>
        </div>
        <div class="row">
          <div class="col-md-12" *ngIf="confirm">
            <button type="button" class="btn btn-success block m-t-10" (click)="save()">
              Confirm
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn grey btn-outline-secondary" (click)="c('Close click')">
      Close
    </button>
  </div>
</ng-template>

<app-paynearme-modal #PaynearmeModalComponent 
  [dataModel]="modelEmbedded" 
  (success)="embeddedIsSuccess($event)"></app-paynearme-modal>
<app-repay-modal #RepayModalComponent 
  [dataModel]="modelEmbedded"
  (success)="embeddedIsSuccess($event)"></app-repay-modal>
